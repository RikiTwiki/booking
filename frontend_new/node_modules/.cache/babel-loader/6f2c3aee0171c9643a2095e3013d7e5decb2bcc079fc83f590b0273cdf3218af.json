{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      rooms: [],\n      selectedRoom: null\n    };\n  },\n  async created() {\n    try {\n      const token = localStorage.getItem('authToken');\n      const response = await axios.get('/bookings', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        } // Передаем токен\n      });\n      this.rooms = response.data; // Загружаем все бронирования\n    } catch (error) {\n      console.error('Error fetching booked rooms:', error);\n      this.$router.push('/login'); // Перенаправляем на логин при ошибке\n    }\n  },\n  methods: {\n    showRoomDetails(room) {\n      this.selectedRoom = room;\n    },\n    formatDate(dateString) {\n      const date = new Date(dateString);\n\n      // Проверяем, если дата невалидна\n      if (isNaN(date.getTime())) {\n        return 'Invalid Date';\n      }\n\n      // Преобразуем дату в читаемый формат\n      return date.toLocaleString();\n    }\n  }\n};","map":{"version":3,"names":["axios","data","rooms","selectedRoom","created","token","localStorage","getItem","response","get","headers","Authorization","error","console","$router","push","methods","showRoomDetails","room","formatDate","dateString","date","Date","isNaN","getTime","toLocaleString"],"sources":["/home/rikitwiki/Desktop/booking-app/frontend/src/components/AppHome.vue"],"sourcesContent":["<template>\n    <div class=\"booked-rooms-container\">\n      <h1 class=\"header\">Booked Rooms</h1>\n      \n      <div v-if=\"rooms.length === 0\" class=\"no-rooms\">\n        No rooms are booked currently.\n      </div>\n  \n      <!-- Список комнат -->\n      <ul class=\"rooms-list\">\n        <li v-for=\"room in rooms\" :key=\"room.id\" @click=\"showRoomDetails(room)\" class=\"room-item\">\n          {{ room.name }}\n        </li>\n      </ul>\n  \n      <!-- Модальное окно с деталями бронирования -->\n      <div v-if=\"selectedRoom\" class=\"modal\">\n        <div class=\"modal-content\">\n          <h2 class=\"room-name\">{{ selectedRoom.name }}</h2>\n          <p><strong>Author:</strong> {{ selectedRoom.user_email }}</p> <!-- Почта пользователя -->\n          <p><strong>Time:</strong> {{ formatDate(selectedRoom.start_time) }} to {{ formatDate(selectedRoom.end_time) }}</p> <!-- Время бронирования -->\n          <p><strong>Reason:</strong> {{ selectedRoom.reason }}</p> <!-- Причина -->\n          <button @click=\"selectedRoom = null\" class=\"close-btn\">Close</button>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    data() {\n      return {\n        rooms: [],\n        selectedRoom: null,\n      };\n    },\n    async created() {\n      try {\n        const token = localStorage.getItem('authToken');\n        const response = await axios.get('/bookings', {\n          headers: { Authorization: `Bearer ${token}` }, // Передаем токен\n        });\n        this.rooms = response.data; // Загружаем все бронирования\n      } catch (error) {\n        console.error('Error fetching booked rooms:', error);\n        this.$router.push('/login'); // Перенаправляем на логин при ошибке\n      }\n    },\n    methods: {\n      showRoomDetails(room) {\n        this.selectedRoom = room;\n      },\n  \n      formatDate(dateString) {\n  const date = new Date(dateString);\n  \n  // Проверяем, если дата невалидна\n  if (isNaN(date.getTime())) {\n    return 'Invalid Date';\n  }\n\n  // Преобразуем дату в читаемый формат\n  return date.toLocaleString(); \n}\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .booked-rooms-container {\n    padding: 20px;\n  }\n  \n  .header {\n    font-size: 2rem;\n    font-weight: bold;\n    color: #4caf50;\n    margin-bottom: 20px;\n  }\n  \n  .no-rooms {\n    font-size: 1.2rem;\n    color: #555;\n  }\n  \n  .rooms-list {\n    list-style: none;\n    padding: 0;\n  }\n  \n  .room-item {\n    background-color: #f4f4f4;\n    padding: 15px;\n    margin: 10px 0;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n  }\n  \n  .room-item:hover {\n    background-color: #e0f7fa;\n  }\n  \n  .modal {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.5);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  \n  .modal-content {\n    background: #fff;\n    padding: 30px;\n    border-radius: 10px;\n    width: 300px;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n    text-align: center;\n  }\n  \n  .room-name {\n    font-size: 1.5rem;\n    font-weight: bold;\n    color: #4caf50;\n  }\n  \n  button.close-btn {\n    margin-top: 20px;\n    padding: 10px 20px;\n    background-color: #4caf50;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n  }\n  \n  button.close-btn:hover {\n    background-color: #45a049;\n  }\n  </style>  "],"mappings":";AA6BE,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI;MACF,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;MAC/C,MAAMC,QAAO,GAAI,MAAMR,KAAK,CAACS,GAAG,CAAC,WAAW,EAAE;QAC5CC,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUN,KAAK;QAAG,CAAC,CAAE;MACjD,CAAC,CAAC;MACF,IAAI,CAACH,KAAI,GAAIM,QAAQ,CAACP,IAAI,EAAE;IAC9B,EAAE,OAAOW,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpD,IAAI,CAACE,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC,EAAE;IAC/B;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,eAAeA,CAACC,IAAI,EAAE;MACpB,IAAI,CAACf,YAAW,GAAIe,IAAI;IAC1B,CAAC;IAEDC,UAAUA,CAACC,UAAU,EAAE;MAC3B,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU,CAAC;;MAEjC;MACA,IAAIG,KAAK,CAACF,IAAI,CAACG,OAAO,CAAC,CAAC,CAAC,EAAE;QACzB,OAAO,cAAc;MACvB;;MAEA;MACA,OAAOH,IAAI,CAACI,cAAc,CAAC,CAAC;IAC9B;EACI;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}